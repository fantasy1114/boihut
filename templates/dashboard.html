{%extends 'base.html'%}

{%load static%}

{%block content%}
<title> User Dashboard</title>
<section>
<div class="container" style="margin-top:50px;">
    <div class="container" style="padding-top:60px; padding-bottom:20px;">
    <div class="row">

<div class="row">
  <div class="col-4">
    <div class="list-group"  id="MyTab" role="tablist">
      <a class="boihut-dashboard-menu-list list-group-item list-group-item-action active" data-toggle="list" href="{%url 'dashboard'%}" role="tab" aria-controls="list-dashboard">Home</a>
      <a class="boihut-dashboard-menu-list list-group-item list-group-item-action" data-toggle="list" href="{%url 'orders'%}" role="tab" aria-controls="list-orders">Orders</a>
      <a class="boihut-dashboard-menu-list list-group-item list-group-item-action" data-toggle="list" href="{%url 'profile_edit'%}" role="tab" aria-controls="messages">Edit Profile</a>
        <a class="boihut-dashboard-menu-list list-group-item list-group-item-action"  data-toggle="list" href="{%url 'logout'%}" role="tab" aria-controls="settings">Logout</a>
    </div>
  </div>

    <div class="col-6">
      <div class="tab-pane fade {%if request.path == '/dashboard/'%}show active{%endif%}" id="list-dashboard" role="tabpanel" aria-labelledby="list-dashboard">


        Hello, {{first_name}} {{last_name}} . Hope you are having a good day? Looking for your orders take a look at order page. You can also edit your account information or change your password from the left menu </div>



    <div class="tab-pane fade  {%if 'orders' in request.path%}show active{%endif%}" id="list-orders" role="tabpanel" aria-labelledby="list-orders"> Here is your recent orders

    <div class="tab-content" id="nav-tabContent">
      {%include 'messages.html' %}

      <table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Order ID</th>
      <th scope="col">Status</th>
      <th scope="col">Date Created</th>
      <th scope="col">Order Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      {%for order in order_id_list%}

      <th scope="row">{{order.order_id}}</th>
      <td>{{order.order_status}}</td>
      <td>{{order.date_created}}</td>
      <td><a href="/dashboard/view_order/{{order.order_id}}"> View Order</a></td>
    </tr>
  {%endfor%}

  </tbody>
</table>
        </div>
      </div>


      <div class="tab-panel fade {%if 'profile_edit' in request.path%} show{%endif%}" id="list-edit-profile" role="tabpanel" aria-labelledby="list-edit-profile">
      {%include 'messages.html' %}
          <p class="text-center">Edit your account Information</p>

      <div class="row">
          <form action="/dashboard/profile_edit" method="POST">
        {%csrf_token%}
   <div class="form-group ">
    <label for="first_name">First name</label>
    <input type="text" value="{{request.user.first_name}}" class="form-control" name="first_name" id="first_name" aria-describedby="FirstNameHelp" placeholder="Enter Your First Name" required>
  </div>
<div class="form-group">
    <label for="last_name">Last Name </label>
    <input type="text" value="{{request.user.last_name}}" class="form-control" name="last_name" id="last_name" aria-describedby="LastNameHelp" placeholder="Enter Your Last Name" required>
  </div>

    <div class="form-group">
    <label for="Email">Email</label>
    <input type="email" value="{{request.user.email}}" class="form-control" name="email" id="email" aria-describedby="emailHelp" placeholder="Enter Your Email Address" required>
  </div>


 <div class="form-group">
    <label for="phone">Phone Number</label>
    <input type="text" value="{{request.user.phone}}" class="form-control" name="phone" id="phone" placeholder="Enter Your Phone Number" required>
  </div>

<button type="submit" class="btn btn-primary" style="margin-top:30px;">Update</button>
  </div>
          <p class="text-center">Change Password</p>
           <div class="form-group">
    <label for="phone">Password</label>
        <input type="password" class="form-control" name="password" id="password" placeholder="New Password" >
        <input type="password" class="form-control" name="verify_password" id="verify_password" placeholder="Confirm New Password">
        <button type="submit" class="btn btn-primary" style="margin-top:30px;">Submit Change</button>
  </div>




      </div>




    </div>
  </div>


</div>


    </div>
    </div>
</div>
</section>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
{%endblock content%}